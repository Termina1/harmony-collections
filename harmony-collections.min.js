/* (The MIT License)
 *
 * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the 'Software'), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute,
 * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included with all copies or
 * substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
 * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

void function(D,y,j,b,c,s,f,C,g,i,x,A,d){var w=f.getOwnPropertyNames,m=typeof w===j&&!(b in w);var a=g.bind?g.bind.bind(g.call):function(a){return function(b){return function(){return a.apply(b,arguments)}}}(g.call);var J=a(g[c]),G=a({}[c]),H=a(0..toString),e=a(g.call),K=a(g.apply),p=a({}.hasOwnProperty),B=a([].push),q=a([].splice);var v=function(a){return typeof a!==j?'':'name'in a?a.name:J(a).match(/^\n?function\s?(\w*)?_?\(/)[1]};var h=m?f.create:function(e,a){var c=function(){};c[b]=f(e);var d=new c;if(a)for(var g in a)t(d,g,a[k]);return d};var t=m?f.defineProperty:function(a,b,c){return a[b]=c.value,a};var u=function(c,a,b){return typeof a===j&&(b=a,a=v(b).replace(/_$/,'')),t(c,a,{configurable:!0,writable:!0,value:b})};var I=m?function(a){return function(b){return a(b)||b instanceof s}}(s.isArray):function(a){return a instanceof s||G(a)==='[object Array]'};var r=function(){function getOwnPropertyNames(b){var a=w(b);return p(b,e)&&q(a,o(a,e),1),a}function r(e){var f=g(),a=g(),b={};b[a]={writable:!0,value:d};var c=function(d){var a=j(d);if(p(a,f))return a[f](b);var c=h(null,b);return t(a,f,{value:new C('s','l',k)(b,c)}),c};this.get=function(b){return c(b)[a]},this.set=function(b,d){return c(b)[a]=d},e&&(this.wrap=function(d,f){var b=c(d);if(b[a])throw new TypeError('Object is already a '+e);b[a]=f},this.unwrap=function(d){var b=c(d)[a];if(!b)throw new TypeError(e+' is not generic');return b})}var k='return function(k){if(k===s)return l}',l=Math.random,i=h(null),n=a(''.slice),o=a([].indexOf);var g=function(){var a=n(H(l(),36),2);return a in i?g():i[a]=a};var e=g();if(m){var j=function(a){return!p(a,e)&&t(a,e,{value:h(null)}),a[e]};u(f,getOwnPropertyNames)}else{var s=function(a){function toString(){return a}return toString[c]=toString}(f[b][c]+'');var j=function(a){function toString(){return b.call(this)}if(p(a,c)&&e in a[c])return a[c][e];if(!(c in a))throw new Error('Can\'t store values for '+a);var b=a[c];return a[c]=toString,toString[c]=s,toString[e]={}}}return r}();var l=function(){function toString(){return a[0]+v(this)+a[1]}var a=(''+f).split('Object');u(toString,toString);var c={__proto__:[]}instanceof s?function(a){a.__proto__=toString}:function(a){u(a,toString)};var d=function(a){function toString(){return f}var d=a.shift(),f='[object '+v(d)+']';a.push(toString),c(d);for(var e=0;e<a.length;e++)c(a[e]),u(d[b],a[e]);return d};return function(a,c){if(a in x)return x[a];var b=new r(a);return x[a]=d(c(function(a,c){b.wrap(a,c)},function(a){return b.unwrap(a)}))}}();var o=function(a,b){a!==null&&typeof a===y&&typeof a.forEach===j&&a.forEach(function(d,c){I(d)&&d.length===2?b(a[c][0],a[c][1]):b(a[c],c)})};var n=function(b,a,c){try{return a[a.length]=('return '+b).replace('e_','\\u0065'),C.apply(0,a).apply(0,c)}catch(a){return b}};var F=l('WeakMap',function(f,a){function WeakMap(a){if(this===i||this==null||this===g)return new WeakMap(a);f(this,new r);var b=this;a&&o(a,function(a,c){e(set,b,a,c)})}function get(b){c(b);var e=a(this).get(b);return e===A?d:e}function set(b,e){c(b),a(this).set(b,e===d?A:e)}function has(b){return c(b),a(this).get(b)!==d}function delete_(b){c(b);var e=a(this);return e.get(b)===d?!1:(e.set(b,d),!0)}var g=WeakMap[b];var c=function(a){if(a==null||typeof a!==y&&typeof a!==j)throw new TypeError('Invalid WeakMap key')};return delete_=n(delete_,['c','a'],[c,a]),[WeakMap,get,set,has,delete_]});var z=l('HashMap',function(m,a){function HashMap(a){if(this===i||this==null||this===q)return new HashMap(a);m(this,{size:0,0:h(null),1:h(null),2:h(null)});var b=this;a&&o(a,function(a,c){e(set,b,a,c)})}function get(b){return a(this)[d(b)][c(b)]}function set(b,g){var e=a(this),f=e[d(b)];b=c(b),b in f||e.size++,f[b]=g}function has(b){return c(b)in a(this)[d(b)]}function delete_(b){var e=a(this),f=e[d(b)];return b=c(b),b in f?(delete f[b],e.size--,!0):!1}function size(){return a(this).size}function forEach(g,c){var d=a(this);c=c==null?i:c;for(var b=0;b<3;b++)for(var f in d[b])e(g,c,d[b][f],r(b,f),this)}var q=HashMap[b],g=0,j=1,f=2,p={'true':!0,'false':!1,'null':null,0:-0};if('toString'in h(null)){var c=function(a){return typeof a===D?'_'+a:''+a};var k=function(a){return a.slice(1)}}else{var l=Math.random().toString(36).slice(2);var k=function(a){return a===l?'__proto__':a};var c=function(a){return a==='__proto__'?l:a}}var r=function(b,a){switch(b){case g:return k(a);case j:return+a;case f:return p[a]}};var d=function(a){if(a==null)return f;switch(typeof a){case'boolean':return f;case D:return g;case'number':return a===0&&Infinity/a===-Infinity?f:j;default:throw new TypeError('Invalid HashMap key')}};return delete_=n(delete_,['d','a','c'],[d,a,c]),[HashMap,get,set,has,delete_,size,forEach]});var E=l('Map',function(m,c){function Map(a){if(this===i||this==null||this===l)return new Map(a);m(this,{0:new z,1:new F,keys:[],values:[]});var b=this;a&&o(a,function(a,c){e(set,b,a,c)})}function get(a){var b=c(this),d=f(a);return b.values[k[d](b[d],a)]}function set(b,h){var a=c(this),e=f(b),g=k[e](a[e],b);g===d?(p[e](a[e],b,a.keys.length),B(a.keys,b),B(a.values,h)):(a.keys[g]=b,a.values[g]=h)}function has(a){var b=f(a);return r[b](c(this)[b],a)}function delete_(e){var a=c(this),b=f(e),g=k[b](a[b],e);return g===d?!1:(s[b](a[b],e),q(a.keys,g,1),q(a.values,g,1),!0)}function size(){return c(this).keys.length}function forEach(g,a){var d=c(this),f=d.keys,h=d.values;a=a==null?i:a;for(var b=0,j=f.length;b<j;b++)e(g,a,h[b],f[b],this)}var l=Map[b],h=F[b],g=z[b],k=[a(g.get),a(h.get)],p=[a(g.set),a(h.set)],r=[a(g.has),a(h.has)],s=[a(g['delete']),a(h['delete'])];var f=function(a){return a!=null&&typeof a===y||typeof a===j?1:0};return delete_=n(delete_,['f','c','e','q'],[f,c,e,q]),[Map,get,set,has,delete_,size,forEach]});l('Set',function(j,c){function Set(a){if(this===i||this==null||this===g)return new Set(a);j(this,new E);var b=this;a&&o(a,function(c,a){e(add,b,a)})}function add(a){m(c(this),a,a)}function has(a){return l(c(this),a)}function delete_(a){return f(c(this),a)}function size(){return h(c(this))}function forEach(a,b){var d=0,f=this;k(c(this,function(b){e(a,this,b,d++,f)},b))}var g=Set[b],d=E[b],h=a(d.size),k=a(d.forEach),p=a(d.get),m=a(d.set),l=a(d.has),f=a(d['delete']);return delete_=n(delete_,['f','c'],[f,c]),[Set,add,has,delete_,size,forEach]})}('string','object','function','prototype','toString',Array,Object,Function,Function.prototype,(0,eval)('this'),typeof exports==='undefined'?this:exports,{})
