/* (The MIT License)
 *
 * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files
 * (the 'Software'), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included with all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE
 * FOR ANY  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH
 * THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

void function(c,i,l,f,k,a){'use strict';var j=c.prototype.hasOwnProperty,g=c.defineProperty,e=c.create;var b=function(c,a,b){return typeof a==='function'&&(b=a,a=b.name.replace(/_$/,'')),g(c,a,{configurable:!0,writable:!0,value:b})};'name'in i||g(i,'name',{configurable:!0,get:function(){if(this===i)return'Empty';var a=i.toString.call(this);return a=a.slice(9,a.indexOf('(')),g(this,'name',{value:a}),a}});var d=function(){function d(){var a=h(),c={};b(this,function unlock(f){var b=n(f);if(j.call(b,a))return b[a](c);var d=e(null,l);return g(b,a,{value:Function('s','l',m)(c,d)}),d})}var k=c.getOwnPropertyNames,l={value:{writable:!0,value:a}},m='"use strict";return function(k){if(k===s)return l}',i=e(null),h=function(){var a=Math.random().toString(36).slice(2);return a in i?h():i[a]=a},f=h(),n=function(a){if(j.call(a,f))return a[f];if(!c.isExtensible(a))throw Error('Collections for non-extensible objects not implemented');var b=e(null);return g(a,f,{value:b}),b};return b(c,function getOwnPropertyNames(b){var a=k(b);return j.call(b,f)&&a.splice(a.indexOf(f),1),a}),b(d.prototype,function get(a){return this.unlock(a).value}),b(d.prototype,function set(a,b){this.unlock(a).value=b}),d}();var h=function(){var e=(''+c).replace(/\n/g,'\\n').split('Object');var a=function a(){return e[0]+this.name+e[1]};b(a,a);var g=function(d){var c=d.shift();var e='[object '+c.name+']';return d.push(function a(){return e}),d.forEach(function(d){b(d,a),b(c.prototype,d)}),b(c,a),c};return function(a,c){if(a in f)return;var b=new d;f[a]=g(c(function(a,c){b.unlock(a).value=c},function(d){var c=b.unlock(d).value;if(!c)throw TypeError(a+' is not generic.');return c}))}}();h('WeakMap',function(e,b){var c=function(a){if(a==null||typeof a!=='object'&&typeof a!=='function')throw TypeError('WeakMap keys must be objects')};return[function WeakMap(){if(!(this instanceof WeakMap))return new WeakMap;e(this,new d)},function get(d){c(d);var e=b(this).get(d);return e===k?a:e},function set(d,e){c(d),b(this).set(d,e===a?k:e)},function has(d){return c(d),b(this).get(d)!==a},function delete_(d){c(d);var e=b(this);return e.get(d)===a?!1:(e.set(d,a),!0)}]}),h('HashMap',function(g,a){var d=0,f=1,b=2;var h={false:!1,true:!0,null:null,0:-0};var i=function(c,a){switch(c){case d:return a;case f:return+a;case b:return h[a]}};var c=function(a){if(a==null)return b;switch(typeof a){case'boolean':return b;case'string':return d;case'number':return a===0&&Infinity/a===-Infinity?b:f;default:throw TypeError('HashMap keys must be primitive')}};return[function HashMap(){if(!(this instanceof HashMap))return new HashMap;g(this,[e(null),e(null),e(null)])},function get(b){return a(this)[c(b)][b]},function set(b,d){a(this)[c(b)][b]=d},function has(b){return b in a(this)[c(b)]},function delete_(b){var d=a(this)[c(b)];return b in d?(delete d[b],!0):!1},function map(g,c){var d=a(this),e=[];c=c==null?l:c;for(var b=0;b<3;b++)for(var f in d[b])e.push(g.call(c,d[b][f],i(b,f),this));return e},function forEach(a,b){this.map(a,b)}]}),h('Map',function(d,b){var c=function(a){return a!=null&&typeof a==='object'||typeof a==='function'?1:0};return[function Map(){if(!(this instanceof Map))return new Map;d(this,{0:new f.HashMap,1:new f.WeakMap,keys:[],values:[]})},function get(a){var d=b(this);return d.values[d[c(a)].get(a)]},function set(e,g){var d=b(this),h=d[c(e)],f=h.get(e);f===a?(h.set(e,d.keys.length),d.keys.push(e),d.values.push(g)):(d.keys[f]=e,d.values[f]=g)},function has(a){return b(this)[c(a)].has(a)},function delete_(d){var e=b(this),g=e[c(d)],f=g.get(d);return f===a?!1:(g.delete(d),e.keys.splice(f,1),e.values.splice(f,1),!0)},function map(g,a){var d=b(this),e=d.keys,h=d.values,f=[];a=a==null?l:a;for(var c=0,i=e.length;c<i;c++)f.push(g.call(a,h[c],e[c]));return f},function forEach(a,b){this.map(a,b)}]}),h('Set',function(b,a){return[function Set(){if(!(this instanceof Set))return new Set;b(this,new f.Map)},function add(b){a(this).set(b,b)},function has(b){return a(this).has(b)},function delete_(b){return a(this).delete(b)},function map(b,c){var d=0;return a(this).map(function(a){return b.call(this,a,d++)},c)},function forEach(b,c){var d=0;a(this).forEach(function(a){b.call(this,a,d++)},c)}]})}(Object,Function.prototype,Function('return this')(),typeof exports==='undefined'?this:exports,{})
